
<!--Desktop version-->
<div class="w-100 h-100 d-none d-lg-flex login-page">
  <div class="w-60 d-flex flex-column ans-background container">
    <div class="h-25 d-flex">
      <img class="logo align-self-end" src="../../assets/images/ANS_logo.png" height="100%"/>
    </div>
    <div class="h-25 w-75 d-flex">
      <h1 class="h1 text-uppercase align-self-end m-0">Building reliable connections</h1>
    </div>
    <div class="h-15 d-flex">
      <a class="link-button link-box align-self-end" target="_blank" href="https://www.anscorporate.com/">anscorporate.com</a>
    </div>
  </div>
  <div class="w-40 d-flex flex-column container">
    <div class="h-25 d-flex">
      <h1 class="h2 text-uppercase text-primary align-self-end">Login to your <br/>dashboard
      </h1></div>
    <div class="h-75">
      <form class="d-flex flex-column h-100" *ngIf="!isSecurityMode"
            role="form" [formGroup]="loginForm" (ngSubmit)="fnNext()">
        <div class="h-30 d-flex">
          <div class="align-self-end w-100">
            <label for="email" class="text-label raleway-bold text-primary mb-4">Email/Username</label>
            <input id="email" class="form-control m-0" type="text" placeholder="Email / User Name"
                   formControlName="email" name="email" (input)="isEmailInvalid = false">
            <small *ngIf="isEmailInvalid"
                   class="mb-3 text-left">
              Sorry we don't recognize this {{accountType}}
            </small>
          </div>
        </div>
        <div class="h-25 d-flex pb-2">
          <div class="align-self-end w-100 text-center">
            <button class="btn w-100 link-button mt-5 text-uppercase"
                    type="submit"
                    [disabled]="loginForm.status !== 'VALID'"
                    *ngIf="!isLoading">
              Next
            </button>
            <app-loader *ngIf="isLoading"></app-loader>
          </div>
        </div>
      </form>
      <form class="d-flex flex-column h-100" [formGroup]="form" *ngIf="isSecurityMode" (ngSubmit)="fnSignIn(model)">
        <div class="h-30 d-flex">
          <div class="align-self-end w-100">
            <label for="email" class="text-label raleway-bold text-primary mb-4">Password</label>
            <formly-form [form]="form" [fields]="fieldsArray" [model]="model" ></formly-form>
            <small class="mb-3 text-left text-danger" *ngIf="isSessionFailed">Invalid Credentials</small>
          </div>
        </div>
        <div class="h-25 d-flex pb-2">
          <div class="align-self-end w-100 text-center">
            <button class="btn w-100 mr-5 link-button align-self-center mt-5 text-uppercase"
                    [disabled]="form.status !== 'VALID'"
                    type="submit" *ngIf="!isLoading">
              Sign In Securely
            </button>
            <app-loader *ngIf="isLoading"></app-loader>
            <button class="btn w-100 link-button align-self-center mt-5 text-uppercase"
                    (click)="fnBack()"
                    type="button" *ngIf="!isLoading">
              Back
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!--Mobile version-->
<div class="w-100 h-100 d-lg-none d-flex flex-column ans-background justify-content-between overflow-auto">
  <div class="d-flex flex-column mt-5 mb-5 ml-3 h-25">
    <img class="logo mb-3" src="../../assets/images/ANS_logo.png" width="300px"/>
    <h3 class="h3 text-uppercase m-0">Building reliable connections</h3>
  </div>
  <div class="d-flex flex-column form-background flex-grow-1 align-items-center h-60 overflow-auto">
    <h3 class="h3 text-uppercase text-primary text-center mt-5 mb-5 ">Login to your <br/>dashboard
    </h3>
    <form class="d-flex flex-column h-100 w-100 p-3 text-center" *ngIf="!isSecurityMode"
          role="form" [formGroup]="loginForm" (ngSubmit)="fnNext()">
      <div class="w-100">
        <label for="email" class="text-label raleway-bold text-primary mb-4">Email/Username</label>
        <input id="email" class="form-control m-0" type="text" placeholder="Email / User Name"
               formControlName="email" name="email" (input)="isEmailInvalid = false">
        <small *ngIf="isEmailInvalid"
               class="mb-3 text-left">
          Sorry we don't recognize this {{accountType}}
        </small>
      </div>
      <div class="w-100 text-center">
        <button class="btn w-100 link-button mt-5 text-uppercase"
                type="submit"
                [disabled]="loginForm.status !== 'VALID'"
                *ngIf="!isLoading">
          Next
        </button>
        <app-loader *ngIf="isLoading"></app-loader>
      </div>
    </form>
    <form class="d-flex flex-column h-100 w-100 p-3 text-center" [formGroup]="form" *ngIf="isSecurityMode"
          (ngSubmit)="fnSignIn(model)">

      <div class="w-100">
        <formly-form [form]="form" [fields]="fieldsArray" [model]="model"></formly-form>
        <small class="mb-3 text-left" *ngIf="isSessionFailed">Invalid Credentials</small>
      </div>
      <div class=" d-flex flex-row w-100 justify-content-center">
        <button class="btn w-100 mr-3 link-button align-self-center mt-5 text-uppercase"
                [disabled]="form.status !== 'VALID'"
                type="submit" *ngIf="!isLoading">
          Sign In Securely
        </button>
        <app-loader *ngIf="isLoading"></app-loader>
        <button class="btn w-50 link-button align-self-center mt-5 text-uppercase"
                (click)="fnBack()"
                type="button" *ngIf="!isLoading">
          Back
        </button>
      </div>
    </form>
  </div>
  <div class="h-15 d-flex justify-content-center ">
    <a class="link-button link-box align-self-center" target="_blank" href="https://www.anscorporate.com/">anscorporate.com</a>
  </div>
</div>
